<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />


<ui:composition template="/template/cms_template.xhtml">
	<ui:define name="title">#{param['page'] eq '1' ? msg.SLICE : msg.MAIN_PHOTO}</ui:define>
	<ui:define name="content">
	
			<div class="col-12 grid-margin">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title">#{param['page'] eq '1' ? msg.SLICE : msg.MAIN_PHOTO}</h4>
                  
                  <h:panelGroup rendered="#{param['page'] eq '1'}">  
	                  <form class="form-sample" action="saveSliceItems" method="post">
	                    <INPUT type="text" id="id" name="id" value="${dto.id}"/>                    
	                    <div class="row">
	                      <div class="col-md-6">
	                        <div class="form-group row">
	                          <label class="col-sm-3 col-form-label">#{msg.DESCRIPTION}</label>
	                          <div class="col-sm-9">
	                            <input type="text" id="mainPictureDescription" name="mainPictureDescription" class="form_customer" value="${dto.mainPictureDescription}"/>
	                          </div>
	                        </div>
	                      </div>
	                     
	                      <div class="col-md-6">
	                        <div class="form-group row">
	                          <label class="col-sm-3 col-form-label">#{msg.ADD_LINE}</label>
	                          <div class="col-sm-9">
	                            <input type="text" id="mainPictureDescriptionLine" name="mainPictureDescriptionLine" class="form_customer" 
	                            		    value="${dto.mainPictureDescriptionLine}"/>
	                          </div>
	                        </div>
	                      </div>
	                    </div>  
	                    
	                    <div class="row">
	                      <div class="col-md-6">
	                        <div class="form-group row">
	                          <label class="col-sm-3 col-form-label">#{msg.UPLOAD}</label>
	                          <div class="col-sm-9">
	                            <input type="file" id="mainPicture" name="mainPicture" class="form_customer"/>
	                          </div>
	                        </div>
	                      </div>
	                     
	                      <div class="col-md-6">
	                        <div class="form-group row">
	                          <label class="col-sm-3 col-form-label"></label>
	                          <div class="col-sm-9">
		                            <a href="../UPLOADS/MAIN_PAGE/${dto.mainPicture}" target="_blank">
		                            	<img alt="" src="../UPLOADS/MAIN_PAGE/${dto.mainPicture}" height="50" width="50"/>
		                            </a>
	                          </div>
	                        </div>
	                      </div>
	                    </div>  
	                    
	                    <button type="submit" class="btn btn-primary mr-2" name="save">#{msg.SAVE}</button>
                    	<button type="submit" class="btn btn-light" name="cancel">#{msg.CANCEL}</button>
                    	<button type="submit" class="btn btn-light" name="add">#{msg.NEW_SLICE}</button>
	                  </form>                  
                  </h:panelGroup>
                  
                  <h:panelGroup rendered="#{param['page'] eq '2'}">    
                  	<form class="form-sample" action="saveMainPic" method="post" enctype="multipart/form-data">
                  	
                  		<h:outputLabel value="#{msg.SAVE_MSG}" rendered="#{param['saved'] eq '1'}" style="color: red;"/>
                     	<h:outputLabel value="#{msg.ERROR_LOGO_EXTENSION}" rendered="#{param['extensionError'] eq '1'}" style="color: red;"/>
                     	<h:outputLabel value="#{msg.ERROR_LOGO_SIZE}" rendered="#{param['sizeError'] eq '1'}" style="color: red;"/>
                     	<h:outputLabel value="#{msg.REQUIRED_PICTURE}" rendered="#{param['fileError'] eq '1'}" style="color: red;"/>
                     
	                    <div class="row">
	                      <div class="col-md-6">
	                        <div class="form-group row">
	                          <label class="col-sm-3 col-form-label">#{msg.UPLOAD_MAIN_PHOTO} <font color="red">*</font> </label>
	                          <div class="col-sm-9">
	                            <input type="file" id="mainPicture" name="mainPicture" class="form_customer" value="${dto.mainPicture}"/>
	                          </div>
	                        </div>
	                      </div>
	                      
	                      <div class="col-md-6">
	                        <div class="form-group row">
	                          <label class="col-sm-3 col-form-label"></label>
	                          <div class="col-sm-9">
	                            <img alt="" src="../UPLOADS/MAIN_PAGE/${dto.mainPicture}" height="50" width="50"/>
	                          </div>
	                        </div>
	                      </div>
	                    </div>
	                    
	                    <div class="row">
	                      <div class="col-md-6">
	                        <div class="form-group row">
	                          <label class="col-sm-3 col-form-label">#{msg.DESCRIPTION}<font color="red">*</font> </label>
	                          <div class="col-sm-9">
	                          	
	                            <TEXTAREA  id="mainPictureDescription" name="mainPictureDescription" cols="50" rows="10">${dto.mainPictureDescription}</TEXTAREA>
	                          </div>
	                        </div>
	                      </div>
	                      
	                      <div class="col-md-6">
	                        <div class="form-group row">
	                          <label class="col-sm-3 col-form-label"></label>
	                          <div class="col-sm-9">
	                            
	                          </div>
	                        </div>
	                      </div>
	                    </div>
	                    
	                    <button type="submit" class="btn btn-primary mr-2" name="save">#{msg.SAVE}</button>
                    	
                    </form>
                 </h:panelGroup>   
                                        
                    
                    
                </div>
                
                <h:panelGroup rendered="#{param['page'] eq '1'}">  
                	<div class="col-lg-12 grid-margin stretch-card">
	              <div class="card">
	                <div class="card-body">
	                  <h4 class="card-title">#{msg.SLICE}</h4>
	                  
					   <p class="card-description">
	                    #{msg.FOUND} <code>${total} #{msg.ITEMS}</code>
	                  	</p>
	                                  	
						<br/>
						
	                  <div class="table-responsive pt-3">
	                  
	                    <table class="table table-bordered table-hover table-striped">
	                      <thead style="background-color: #666666; color: yellow;">
	                        <tr style="border-color: gray !important; ">
	                          <th style="align-content: center!important;">#</th>
	                          <th style="align-content: center!important; width: 20px;">#{msg.DESCRIPTION}</th>
	                          <th>#{msg.ADD_LINE}</th>
	                          <th>#{msg.SLICE_PICTURE}</th>
	                          <th>#{msg.DELETE}</th>
	                        </tr>
	                      </thead>
	                      <tbody>
	                      
	                      <c:forEach items="${sliceList}" var="var" varStatus="vs">
	                        <tr data-toggle="collapse" data-target="#td1#{vs.count}" style="background-color: {vs.count % 2 == 1 ? #c7cad6 : white !important;}">
	                          <td style="align-content: center !important;"><a href="aao/showSlice?id=#{var.id}&amp;page=1">#{vs.count}</a></td>
	                          
	                          <td><a href="showSlice?id=#{var.id}&amp;page=1">#{var.mainPictureDescription}</a></td>
	                                                   
	                          <td><a href="showSlice?id=#{var.id}&amp;page=1">#{var.mainPictureDescriptionLine}</a></td>	        
	                          
	                          <td><a href="showSlice?id=#{var.id}&amp;page=1">#{var.mainPicture}</a></td>	                                             
	                          
	                          <td>
	                            <a href="deleteSlice?id=#{var.id}&amp;page=1">
									<IMG alt="" src="../resources/cms/images/delete.png" style="height: 25px !important;"/>
								</a>
	                          </td>	
	                        </tr>   
	                		                         
	                        </c:forEach>
	                                        
	                      </tbody>
	                    </table>
	                    <br/>
	                    
	                    <p class="card-description">
	                    #{msg.FOUND} <code>${total} #{msg.SLICE}</code>
	                  	</p>
	                    
	                  </div>
	                </div>
	                
	              </div>
            	</div>
            </h:panelGroup>
            
              </div>
            </div>

	</ui:define>
</ui:composition>
</html>
